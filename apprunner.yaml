version: 1.0
runtime: docker

build:
  command: |
    docker build -t application .

run:
  command: docker run -p 8080:8080 application
  network:
    port: 8080
  env:
    - name: REDIS_HOST
      value: "${REDIS_HOST}"
    - name: REDIS_PORT
      value: "${REDIS_PORT}"
    - name: REDIS_PASSWORD
      value: "${REDIS_PASSWORD}"
    - name: SPRING_PROFILES_ACTIVE
      value: "prod"

instance:
  cpu: 1
  memory: 2048